unit_test:
  stage: test
  image: maven:3.8.1-openjdk-11-slim
  variables:
    MAVEN_OPTS: "-Dmaven.repo.local=/gitlab/m2/repository"
  script:
    - mvn test
  artifacts:
    reports:
      junit: target/surefire-reports/TEST-*.xml
  cache:
    paths:
      - /gitlab/m2/repository
  rules:
    - if: $CI_COMMIT_BRANCH