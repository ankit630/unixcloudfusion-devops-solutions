.sast:
  stage: pre-build
  image: maven:3.8.1-openjdk-11-slim
  variables:
    MAVEN_OPTS: "-Dmaven.repo.local=/gitlab/m2/repository"
  script:
    - mvn org.owasp:dependency-check-maven:check
    - mvn com.github.spotbugs:spotbugs-maven-plugin:check
  artifacts:
    paths:
      - target/dependency-check-report.html
      - target/spotbugsXml.xml
  cache:
    paths:
      - /gitlab/m2/repository
  rules:
    - if: $CI_COMMIT_BRANCH